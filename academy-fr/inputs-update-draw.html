<!doctype html>
<html lang="fr">
 <head> 
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 
  <title>Les 3 parties de la boucle principales: Entrées, Mise à jour, Affichage - Gamebuino</title> 
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous"> 
  <link href="https://fonts.googleapis.com/css?family=Lato|Open+Sans:300,400,600,700,800|Roboto+Mono:300,400,700" rel="stylesheet"> 
  <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-LRlmVvLKVApDVGuspQFnRQJjkv0P7/YFrw84YYQtmYG4nK8c+M+NlmYDCv0rKWpG" crossorigin="anonymous"> 
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"> 
  <link href="../css/animate.css" rel="stylesheet" type="text/css"> 
  <link href="../css/generic.css" rel="stylesheet" type="text/css"> 
  <link href="../css/jquery-ui.min.css" rel="stylesheet" type="text/css"> 
  <link href="../css/jquery-ui-timepicker-addon.css" rel="stylesheet" type="text/css"> 
  <link href="../css/alertify.core.css" rel="stylesheet" type="text/css"> 
  <link href="../css/alertify.default.css" rel="stylesheet" type="text/css"> 
  <link href="../css/select2.min.css" rel="stylesheet" type="text/css"> 
  <link href="../css/app.css" rel="stylesheet" type="text/css"> 
  <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script> 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script> 
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script> 
  <script src="../js/jquery.cookie.js" type="text/javascript"></script> 
  <script src="../js/alertify.min.js" type="text/javascript" async></script> 
  <script src="../js/modal.js" type="text/javascript" async></script> 
  <script src="../js/popupConfirm.js" type="text/javascript" async></script> 
  <script src="../js/select2.min.js" type="text/javascript" async></script> 
  <script src="../js/imagesloaded.pkgd.min.js" type="text/javascript" async></script> 
  <script src="../js/wow.min.js" type="text/javascript" async></script> 
  <script src="../js/app.js" type="text/javascript" async></script> 
  <script id="js_highlight" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" async></script> 
  <script>js_highlight.addEventListener('load',function(){$('div.code, pre').each(function(i,block){hljs.highlightBlock(block);});});</script> 
  <link href="https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300,700&amp;display=swap" rel="stylesheet"> 
 </head> 
 <body> 
  <div class="topbar-container w-100 m-0"> 
   <nav class="primary-navbar"> 
    <div id="root-logo"> <a href="/gamebuino/"> <img width="233" src="../assets/gamebuino-logo-white.svg" alt="Gamebuino" class="logo-white"> </a> 
    </div> 
    <ul class="nav nav-pills"> 
     <li class="text-uppercase"> <a href="/gamebuino/meta-api-reference-en/"> META API Reference</a></li> 
     <li class="text-uppercase"> <a href="/gamebuino/academy-fr/"> Academy (FR)</a></li> 
    </ul> 
   </nav> 
   <div class="container" id="main-content">
    <div class="container"> 
     <div class="d-flex align-items-center"> <a href="/gamebuino/academy-fr/" > Académie </a> 
      <div class="ml-3 mr-3"> <i class="fal fa-angle-right"></i> 
      </div> <a href="/gamebuino/academy-fr/tap-tap-toc.html"> Tap Tap (C++ 3/5) </a> 
      <div class="ml-3 mr-3"> <i class="fal fa-angle-right"></i> 
      </div> <span> Les 3 parties de la boucle principales: Entrées, Mise à jour, Affichage </span> 
     </div> 
    </div> 
    <div class="row"> 
     <div class="col-md-8"> 
      <div class="d-flex justify-content-between"> 
       <div> 
        <h1> Les 3 parties de la boucle principales: Entrées, Mise à jour, Affichage </h1> 
        <h5> Étape 1 </h5> 
       </div> 
      </div> 
      <div class="mt-5 white-container"> 
       <div class="lesson-introduction"> 
        <p>Avant de plonger dans les lignes de code, il faut toujours se poser un moment et se dire "<em>Comment vais-je organiser mon code ?</em>".</p> 
       </div> 
       <div class="lesson-content mt-5"> 
        <p>Heureusement pour nous, dans le monde des jeux vidéo, l'architecture de la boucle principale est toujours la même :</p> 
        <ol> 
         <li>Obtenir les entrées de l'utilisateur</li> 
         <li>Mettre à jour la logique du jeu</li> 
         <li>Mettre à jour l'affichage</li> 
        </ol> 
        <p>En réalité, en fonction de la plateforme sur laquelle le jeu est exécuté, certaines parties doivent être ajoutées. Comme la régulation de la fréquence de la boucle principale (pour que le jeu tourne à la même vitesse pour tout le monde). Avec la META, cet aspect est déjà géré grâce à <code>gb.update</code> qui permet de régler le nombre d'images par seconde désiré. Par défaut, nos jeux seront réglés à 25 images par seconde. Donc en réalité, il y a une zérotième étape dans notre boucle : l'attente de l'autorisation d'afficher une image obtenue grâce à la ligne <code>while(!gb.update());</code>. D'ailleurs, vous avez déjà utilisé cette méthode dans l'atelier du Pong, sans le savoir !</p> 
        <p>La première partie consiste à voir ce que le joueur fait: pour Pong c'était le mouvement des raquettes avec les boutons. La seconde est responsable de toute la logique du jeu: dans Pong cela correspondait aux détections de collisions et au déplacement de la balle et on y a ensuite ajouté l'IA. Enfin, pour la troisième et denière partie, nous permet de tout afficher (raquettes, balle et score pour le Pong et le 'briques', le score, ... dans notre jeu).</p> 
        <p>Cette technique d' "Entrées, Mise à jour, Affichage" est très pratique: elle nous permet tout d'abord de nous y retrouver dans le code, et elle nous force à découpler les entrées, la logique de jeu et l'affichage. Nous reviendrons plus tard sur ces avantages. D'autre part, si nous adoptons tous la même organisation, nous gagnons du temps lors de l'analyse du code d'un programme que nous n'avons pas écrit et nous avons tout intéret à capitaliser sur les parties communes afin d'y perde moins de temps pour nous consacrer aux différences qui renderont notre jeu unique</p> 
        <p>Commençons par placer des commentaires pour mieux s'y retrouver :</p> 
        <pre><code>#include &lt;Gamebuino-Meta.h&gt;

void setup() {
    gb.begin();
}

void loop() {
    while(!gb.update());

    // ENTREES //


    // MISE A JOUR //


    // AFFICHAGE //
    gb.display.clear();
}
</code></pre> 
        <p>J'en ai aussi profité pour placer tout ce dont on aura forcément besoin pour notre programme (mais rien de nouveau ici ;) ) On retrouve notre include, la procédure setup() qui contient gb.begin, la procédure loop avec le while(!gb.update()); que nous avons eu plus haut pour calibrer notre jeux à 25 images par seconde, des commentaires pour matérialiser les 3 parties que nous venons d'introduire et gb.display.clear(); pour effacer l'écran avant de réafficher les éléments à leur nouvelle place.</p> 
        <p>Vous êtes maintenant prêt à passer à l'étape suivante.</p> 
        <p><a href="/gamebuino/academy-fr/constants.html" title="Les constantes" class="btn btn-primary btn-lg"> Etape suivante <i class="fa fa-arrow-right"></i></a></p>
       </div> 
      </div> 
     </div> 
     <div class="col-md-4 d-none d-md-block"> 
      <ul class="workshop-summary-mini"> 
       <li class=""> <a href="/gamebuino/academy-fr/tap-tap-how-fast-can-you-tap.html" class="d-flex align-items-center  "> 
         <div class="circle">
           1 
         </div> 
         <div class="title ml-3">
           Tap Tap, à quelle vitesse peux-tu taper ? 
         </div> </a></li> 
       <li class=""> <a href="/gamebuino/academy-fr/inputs-update-draw.html" class="d-flex align-items-center  active  "> 
         <div class="circle">
           2 
         </div> 
         <div class="title ml-3">
           Les 3 parties de la boucle principales: Entrées, Mise à jour, Affichage 
         </div> </a></li> 
       <li class=""> <a href="/gamebuino/academy-fr/constants.html" class="d-flex align-items-center  "> 
         <div class="circle">
           3 
         </div> 
         <div class="title ml-3">
           Les constantes 
         </div> </a></li> 
       <li class=""> <a href="/gamebuino/academy-fr/arrays.html" class="d-flex align-items-center  "> 
         <div class="circle">
           4 
         </div> 
         <div class="title ml-3">
           Les tableaux 
         </div> </a></li> 
       <li class=""> <a href="/gamebuino/academy-fr/it-s-your-turn.html" class="d-flex align-items-center  "> 
         <div class="circle">
           5 
         </div> 
         <div class="title ml-3">
           À vous de jouer ! 
         </div> </a></li> 
      </ul> 
     </div> 
    </div> 
    <div class="d-block d-md-none" style="margin-top:8rem"> 
     <h4 class="mb-4">Étapes</h4> 
     <ul class="workshop-summary-mini"> 
      <li class=""> <a href="/gamebuino/academy-fr/tap-tap-how-fast-can-you-tap.html" class="d-flex align-items-center  "> 
        <div class="circle">
          1 
        </div> 
        <div class="title ml-3">
          Tap Tap, à quelle vitesse peux-tu taper ? 
        </div> </a></li> 
      <li class=""> <a href="/gamebuino/academy-fr/inputs-update-draw.html" class="d-flex align-items-center  active  "> 
        <div class="circle">
          2 
        </div> 
        <div class="title ml-3">
          Les 3 parties de la boucle principales: Entrées, Mise à jour, Affichage 
        </div> </a></li> 
      <li class=""> <a href="/gamebuino/academy-fr/constants.html" class="d-flex align-items-center  "> 
        <div class="circle">
          3 
        </div> 
        <div class="title ml-3">
          Les constantes 
        </div> </a></li> 
      <li class=""> <a href="/gamebuino/academy-fr/arrays.html" class="d-flex align-items-center  "> 
        <div class="circle">
          4 
        </div> 
        <div class="title ml-3">
          Les tableaux 
        </div> </a></li> 
      <li class=""> <a href="/gamebuino/academy-fr/it-s-your-turn.html" class="d-flex align-items-center  "> 
        <div class="circle">
          5 
        </div> 
        <div class="title ml-3">
          À vous de jouer ! 
        </div> </a></li> 
     </ul> 
    </div>
   </div> 
   <footer id="footer"> 
    <div class="container"> 
     <div class="reinsurance"> 
      <div class="row align-items-center"> 
       <div class="col-sm-3"> 
        <p class="text-left"></p> 
       </div> 
       <div class="col-sm-6"> 
        <p class="text-center">Academy saved on October 8, 2020</p> 
       </div> 
       <div class="col-sm-3"> 
        <p class="text-right"></p> 
       </div> 
      </div> 
     </div> 
     <div class="row"> 
      <div class="col-sm-4 margeur-50"> 
       <ul class=""> 
        <li class="margeur-20"><h5 style="color:white;">Exported by :</h5></li> 
        <li> <a href="https://chris-scientist.github.io">chris-scientist</a></li> 
       </ul> 
      </div> 
      <div class="col-sm-4 margeur-50"> 
       <ul class=""> 
        <li class="margeur-10"> <a href="/gamebuino/why-this-website/">Why this website ?</a></li> 
        <li class="margeur-10"> <a href="/gamebuino/contact/">Contact</a></li> 
       </ul> 
      </div> 
      <div class="col-sm-4 margeur-50"> 
       <h6 class="footer-h6">Exported from official website</h6> 
      </div> 
     </div> 
    </div> 
   </footer>  
  </div>
 </body>
</html>