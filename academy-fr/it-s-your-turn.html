<!doctype html>
<html lang="fr">
 <head> 
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 
  <title>Apprendre à coder un jeu vidéo - Gamebuino</title> 
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous"> 
  <link href="https://fonts.googleapis.com/css?family=Lato|Open+Sans:300,400,600,700,800|Roboto+Mono:300,400,700" rel="stylesheet"> 
  <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-LRlmVvLKVApDVGuspQFnRQJjkv0P7/YFrw84YYQtmYG4nK8c+M+NlmYDCv0rKWpG" crossorigin="anonymous"> 
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"> 
  <link href="../css/animate.css" rel="stylesheet" type="text/css"> 
  <link href="../css/generic.css" rel="stylesheet" type="text/css"> 
  <link href="../css/jquery-ui.min.css" rel="stylesheet" type="text/css"> 
  <link href="../css/jquery-ui-timepicker-addon.css" rel="stylesheet" type="text/css"> 
  <link href="../css/alertify.core.css" rel="stylesheet" type="text/css"> 
  <link href="../css/alertify.default.css" rel="stylesheet" type="text/css"> 
  <link href="../css/select2.min.css" rel="stylesheet" type="text/css"> 
  <link href="../css/app.css" rel="stylesheet" type="text/css"> 
  <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script> 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script> 
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script> 
  <script src="../js/jquery.cookie.js" type="text/javascript"></script> 
  <script src="../js/alertify.min.js" type="text/javascript" async></script> 
  <script src="../js/modal.js" type="text/javascript" async></script> 
  <script src="../js/popupConfirm.js" type="text/javascript" async></script> 
  <script src="../js/select2.min.js" type="text/javascript" async></script> 
  <script src="../js/imagesloaded.pkgd.min.js" type="text/javascript" async></script> 
  <script src="../js/wow.min.js" type="text/javascript" async></script> 
  <script src="../js/app.js" type="text/javascript" async></script> 
  <script id="js_highlight" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" async></script> 
  <script>js_highlight.addEventListener('load',function(){$('div.code, pre').each(function(i,block){hljs.highlightBlock(block);});});</script> 
  <link href="https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300,700&amp;display=swap" rel="stylesheet"> 
 </head> 
 <body> 
  <div class="topbar-container w-100 m-0"> 
   <nav class="primary-navbar"> 
    <div id="root-logo"> <a href="/gamebuino/"> <img width="233" src="../assets/gamebuino-logo-white.svg" alt="Gamebuino" class="logo-white"> </a> 
    </div> 
    <ul class="nav nav-pills"> 
     <li class="text-uppercase"> <a href="/gamebuino/academy-en/"> Home of Academy (FR)</a></li> 
    </ul> 
   </nav> 
   <div class="container" id="main-content">
    <div class="container"> 
     <div class="d-flex align-items-center"> <span> Académie </span> 
      <div class="ml-3 mr-3"> <i class="fal fa-angle-right"></i> 
      </div> <a href="/gamebuino/academy-fr/tap-tap-toc.html"> Tap Tap (C++ 3/5) </a> 
      <div class="ml-3 mr-3"> <i class="fal fa-angle-right"></i> 
      </div> <span> À vous de jouer ! </span> 
     </div> 
    </div> 
    <div class="row"> 
     <div class="col-md-8"> 
      <div class="d-flex justify-content-between"> 
       <div> 
        <h1> À vous de jouer ! </h1> 
        <h5> Étape 4 </h5> 
       </div> 
       <div> <span class="open-modal btn btn-complete btn-secondary"> <i class="fal fa-check"></i> Étape terminée ? </span> 
       </div> 
      </div> 
      <div class="mt-5 white-container"> 
       <div class="lesson-introduction"> 
        <p>Cet atelier a permis de présenter trois notions qui reviendront dans quasiment tous les jeux que vous ferez plus tard, même hors des ateliers. On fait le point !</p> 
       </div> 
       <div class="lesson-content mt-5"> 
        <p>La structure "<strong>Entrées, Mise à jour, Affichage</strong>" est très puissante, elle permet de s'organiser et de dissocier les actions du joueur, la logique de jeu, et ce que voit le joueur. Les <strong>constantes</strong> nous permettent d'écrire du code plus facilement et améliorent sa lisibilité. Les <strong>tableaux</strong> sont une nouvelle structure de données qui nous permet de grouper des variables sous un même nom.</p> 
        <p>Avec tout ça, nous avons construit un jeu simple et amusant: TapTap. Maintenant c'est à vous de l'améliorer. Voici ce que je propose: Commencez par implémenter un système de record, puis pour améliorer le gameplay, ajoutez une ou deux briques. Vous pouvez aussi rendre le jeu plus dur, en augmentant la vitesse à laquelle le score diminue en fonction du score actuel. Donc plus le joueur a de points, plus il les perd vite.</p> 
        <ul> 
         <li> <p><strong>Astuce #1</strong> : Pour ajouter des briques, il faudra changer <code>NBR_DE_BRIQUES</code> et modifier l'affichage pour qu'on les voit toutes.</p> </li> 
         <li> <p><strong>Astuce #2</strong> : Pour rendre le jeu plus dur quand le score augmente, vous pouvez soustraire une partie du score à chaque image avec l'aide de l'opérateur de division <code>/</code>.</p> </li> 
        </ul> 
        <p><strong>Montre nous ton jeu sur les réseaux avec #gamebuino #atelier #TapTap, on les regarde tous !</strong></p> 
        <h2>Exemple de Solution</h2> 
        <p>Si vous êtes en panne d'inspiration, voilà ce qu'on a fait de notre côté :</p> 
        <p><img src="../assets/888b0ec483eed4fd845422769044451c5a40ed7e.gif" alt="" style="max-width:100%"></p> 
        <pre><code>#include &lt;Gamebuino-Meta.h&gt;
const int GAUCHE = 1;
const int DROITE = 2;
const int SANS_DIRECTION = 3;
const int NBR_DE_BRIQUES = 5; 


int briques[NBR_DE_BRIQUES];  // Position des briques: soit GAUCHE, soit DROITE
int fleche;  // Correspond à la flèche appuyée par l'utilisateur: soit GAUCHE, soit DROITE, soit SANS_DIRECTION
int score = 0;
int highscore = 0;


void setup() {
  gb.begin();


  // Mélanger les briques
  briques[0] = random(GAUCHE, DROITE + 1);
  briques[1] = random(GAUCHE, DROITE + 1);
  briques[2] = random(GAUCHE, DROITE + 1);
  briques[3] = random(GAUCHE, DROITE + 1);
  briques[4] = random(GAUCHE, DROITE + 1);


  fleche = SANS_DIRECTION;
}


void loop() {
  while (!gb.update());


  // ENTREES //
  if (gb.buttons.released(BUTTON_LEFT) || gb.buttons.released(BUTTON_A)) {
    fleche = GAUCHE;
  } else if (gb.buttons.released(BUTTON_RIGHT) || gb.buttons.released(BUTTON_B)) {
    fleche = DROITE;
  }


  // MISE A JOUR //
  // Diminuer le score en fonction du score
  if (score &gt; 0) {
    score -= score / 60;
  }


  if (fleche != SANS_DIRECTION) {
    if (briques[0] == fleche) {
      score += 20;
      if (score &gt; highscore) {  // Record ??
        highscore = score;
      }


      // Décaler tout vers le bas
      briques[0] = briques[1];
      briques[1] = briques[2];
      briques[2] = briques[3];
      briques[3] = briques[4];
      briques[4] = random(GAUCHE, DROITE + 1);  // Nouvelle brique
    }
    else {  // Mauvaise réponse :(
      score = 0;
    }


    fleche = SANS_DIRECTION;  // L'entrée utilisateur a été prise en compte
  }


  // DRAW //
  gb.display.clear();


  if (briques[0] == GAUCHE) {
    gb.display.fillRect(25, 40, 20, 10);  // fillRect pour la brique du bas. drawRect pour les autres
  } else {
    gb.display.fillRect(35, 40, 20, 10);
  }
  if (briques[1] == GAUCHE) {
    gb.display.drawRect(25, 30, 20, 10);
  } else {
    gb.display.drawRect(35, 30, 20, 10);
  }
  if (briques[2] == GAUCHE) {
    gb.display.drawRect(25, 20, 20, 10);
  } else {
    gb.display.drawRect(35, 20, 20, 10);
  }
  if (briques[3] == GAUCHE) {
    gb.display.drawRect(25, 10, 20, 10);
  } else {
    gb.display.drawRect(35, 10, 20, 10);
  }
  if (briques[4] == GAUCHE) {
    gb.display.drawRect(25, 0, 20, 10);
  } else {
    gb.display.drawRect(35, 0, 20, 10);
  }


  // Score
  gb.display.fillRect(0, gb.display.height() - (score / 5), 4, (score / 5));  // On divise le score par 5 pour qu'il rentre dans l'écran


  // Highscore
  gb.display.drawFastHLine(0, gb.display.height() - (highscore / 5), 6);
}
</code></pre> 
       </div> 
      </div> 
     </div> 
     <div class="col-md-4 d-none d-md-block"> 
      <ul class="workshop-summary-mini"> 
       <li class=""> <a href="/gamebuino/academy-fr/tap-tap-how-fast-can-you-tap.html" class="d-flex align-items-center  "> 
         <div class="circle">
           1 
         </div> 
         <div class="title ml-3">
           Tap Tap, à quelle vitesse peux-tu taper ? 
         </div> </a></li> 
       <li class=""> <a href="/gamebuino/academy-fr/inputs-update-draw.html" class="d-flex align-items-center  "> 
         <div class="circle">
           2 
         </div> 
         <div class="title ml-3">
           Les 3 parties de la boucle principales: Entrées, Mise à jour, Affichage 
         </div> </a></li> 
       <li class=""> <a href="/gamebuino/academy-fr/constants.html" class="d-flex align-items-center  "> 
         <div class="circle">
           3 
         </div> 
         <div class="title ml-3">
           Les constantes 
         </div> </a></li> 
       <li class=""> <a href="/gamebuino/academy-fr/arrays.html" class="d-flex align-items-center  "> 
         <div class="circle">
           4 
         </div> 
         <div class="title ml-3">
           Les tableaux 
         </div> </a></li> 
       <li class=""> <a href="/gamebuino/academy-fr/it-s-your-turn.html" class="d-flex align-items-center  active  "> 
         <div class="circle">
           5 
         </div> 
         <div class="title ml-3">
           À vous de jouer ! 
         </div> </a></li> 
      </ul> 
     </div> 
    </div> 
    <div class="d-block d-md-none" style="margin-top:8rem"> 
     <h4 class="mb-4">Étapes</h4> 
     <ul class="workshop-summary-mini"> 
      <li class=""> <a href="/gamebuino/academy-fr/tap-tap-how-fast-can-you-tap.html" class="d-flex align-items-center  "> 
        <div class="circle">
          1 
        </div> 
        <div class="title ml-3">
          Tap Tap, à quelle vitesse peux-tu taper ? 
        </div> </a></li> 
      <li class=""> <a href="/gamebuino/academy-fr/inputs-update-draw.html" class="d-flex align-items-center  "> 
        <div class="circle">
          2 
        </div> 
        <div class="title ml-3">
          Les 3 parties de la boucle principales: Entrées, Mise à jour, Affichage 
        </div> </a></li> 
      <li class=""> <a href="/gamebuino/academy-fr/constants.html" class="d-flex align-items-center  "> 
        <div class="circle">
          3 
        </div> 
        <div class="title ml-3">
          Les constantes 
        </div> </a></li> 
      <li class=""> <a href="/gamebuino/academy-fr/arrays.html" class="d-flex align-items-center  "> 
        <div class="circle">
          4 
        </div> 
        <div class="title ml-3">
          Les tableaux 
        </div> </a></li> 
      <li class=""> <a href="/gamebuino/academy-fr/it-s-your-turn.html" class="d-flex align-items-center  active  "> 
        <div class="circle">
          5 
        </div> 
        <div class="title ml-3">
          À vous de jouer ! 
        </div> </a></li> 
     </ul> 
    </div>
   </div> 
   <footer id="footer"> 
    <div class="container"> 
     <div class="reinsurance"> 
      <div class="row align-items-center"> 
       <div class="col-sm-3"> 
        <p class="text-left"></p> 
       </div> 
       <div class="col-sm-6"> 
        <p class="text-center">Academy saved on October 8, 2020</p> 
       </div> 
       <div class="col-sm-3"> 
        <p class="text-right"></p> 
       </div> 
      </div> 
     </div> 
     <div class="row"> 
      <div class="col-sm-4 margeur-50"> 
       <ul class=""> 
        <li class="margeur-20"><h5 style="color:white;">Exported by :</h5></li> 
        <li> <a href="https://chris-scientist.github.io">chris-scientist</a></li> 
       </ul> 
      </div> 
      <div class="col-sm-4 margeur-50"> 
       <ul class=""> 
        <li class="margeur-10"> <a href="/gamebuino/why-this-website/">Why this website ?</a></li> 
        <li class="margeur-10"> <a href="/gamebuino/contact/">Contact</a></li> 
       </ul> 
      </div> 
      <div class="col-sm-4 margeur-50"> 
       <h6 class="footer-h6">Exported from official website</h6> 
      </div> 
     </div> 
    </div> 
   </footer>  
  </div>
 </body>
</html>