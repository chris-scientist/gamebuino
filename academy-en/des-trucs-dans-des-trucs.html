<!doctype html>
<html lang="en">
 <head> 
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 
  <title>Des trucs dans des trucs - Gamebuino</title> 
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous"> 
  <link href="https://fonts.googleapis.com/css?family=Lato|Open+Sans:300,400,600,700,800|Roboto+Mono:300,400,700" rel="stylesheet"> 
  <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-LRlmVvLKVApDVGuspQFnRQJjkv0P7/YFrw84YYQtmYG4nK8c+M+NlmYDCv0rKWpG" crossorigin="anonymous"> 
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"> 
  <link href="../css/animate.css" rel="stylesheet" type="text/css"> 
  <link href="../css/generic.css" rel="stylesheet" type="text/css"> 
  <link href="../css/jquery-ui.min.css" rel="stylesheet" type="text/css"> 
  <link href="../css/jquery-ui-timepicker-addon.css" rel="stylesheet" type="text/css"> 
  <link href="../css/alertify.core.css" rel="stylesheet" type="text/css"> 
  <link href="../css/alertify.default.css" rel="stylesheet" type="text/css"> 
  <link href="../css/select2.min.css" rel="stylesheet" type="text/css"> 
  <link href="../css/app.css" rel="stylesheet" type="text/css"> 
  <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script> 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script> 
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script> 
  <script src="../js/jquery.cookie.js" type="text/javascript"></script> 
  <script src="../js/alertify.min.js" type="text/javascript" async></script> 
  <script src="../js/modal.js" type="text/javascript" async></script> 
  <script src="../js/popupConfirm.js" type="text/javascript" async></script> 
  <script src="../js/select2.min.js" type="text/javascript" async></script> 
  <script src="../js/imagesloaded.pkgd.min.js" type="text/javascript" async></script> 
  <script src="../js/wow.min.js" type="text/javascript" async></script> 
  <script src="../js/app.js" type="text/javascript" async></script> 
  <script id="js_highlight" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" async></script> 
  <script>js_highlight.addEventListener('load',function(){$('div.code, pre').each(function(i,block){hljs.highlightBlock(block);});});</script> 
  <link href="https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300,700&amp;display=swap" rel="stylesheet"> 
 </head> 
 <body> 
  <div class="topbar-container w-100 m-0"> 
   <nav class="primary-navbar"> 
    <div id="root-logo"> <a href="/gamebuino/"> <img width="233" src="../assets/gamebuino-logo-white.svg" alt="Gamebuino" class="logo-white"> </a> 
    </div> 
    <ul class="nav nav-pills"> 
     <li class="text-uppercase"> <a href="/gamebuino/meta-api-reference-en/"> META API Reference</a></li> 
     <li class="text-uppercase"> <a href="/gamebuino/academy-en/"> Academy (EN)</a></li> 
    </ul> 
   </nav> 
   <div class="container" id="main-content">
    <div class="container"> 
     <div class="d-flex align-items-center"> <a href="/gamebuino/academy-en/index.html"> Academy </a> 
      <div class="ml-3 mr-3"> <i class="fal fa-angle-right"></i> 
      </div> <a href="/gamebuino/academy-en/casse-briques.html"> Blockbreaker (C++ 5/5) </a> 
      <div class="ml-3 mr-3"> <i class="fal fa-angle-right"></i> 
      </div> <span> Des trucs dans des trucs </span> 
     </div> 
    </div> 
    <div class="alert alert-warning mb-3">
      This content is not fully available in your language üòï
    </div> 
    <div class="row"> 
     <div class="col-md-8"> 
      <div class="d-flex justify-content-between"> 
       <div> 
        <h1> Des trucs dans des trucs </h1> 
        <h5> Step 2 </h5> 
       </div> 
      </div> 
      <div class="mt-5 white-container"> 
       <div class="lesson-introduction"> 
        <p>Comment repr√©senter le reste des briques ?</p> 
       </div> 
       <div class="lesson-content mt-5"> 
        <p>Pour avoir plusieurs lignes, on pourrait copier-coller le code qui nous a permis de faire une rang√©e. 8 copier-coller = 8 rang√©es. Mais, comme nous l'avons dit plusieurs fois auparavant, si on se retrouve √† copier-coller, c'est que ce n'est pas la bonne approche. Alors comment allons-nous m√©moriser une grille de briques‚ÄØ?</p> 
        <p>Pour trouver la r√©ponse il faut penser √† ce que nous avons fait jusqu'√† pr√©sent, et ce qu'il nous manque. Nous avons une rang√©e de briques. Il nous faut un certain nombre de rang√©es. Logiquement, on devrait cr√©er un tableau de rang√©es. Or chaque rang√©e est elle-m√™me un tableau. Nous allons donc cr√©e un tableau de tableaux.</p> 
        <pre><code>/ Tableau de tableaux d'entiers


int tabDetab[5][3] = { 
    {00, 01, 02}, 
    {10, 11, 12}, 
    {20, 21, 22}, 
    {30, 31, 32},
    {40, 41, 42} };
</code></pre> 
        <p>On peut comprendre pourquoi un tableau de tableaux est souvent appel√© tableau 2D, quand on les d√©clare. Ces tableaux ressemblent √† des grilles ou des quadrillages. Et √ßa tombe bien, nous cherchons justement √† faire une "grille" de briques !</p> 
        <pre><code>// Breakout.ino //

// Raquette //
// Balle //


// Briques. Chaque entier correspond √† une couleur
const int GRILLE_TAILLE = 8;  // Grille carr√©
int briques[GRILLE_TAILLE][GRILLE_TAILLE];  // Tableau 2D
const int BRIQUE_LARGEUR = gb.display.width() / GRILLE_TAILLE - 2;
const int BRIQUE_HAUTEUR = 3;

// setUp() //
// loop() //
</code></pre> 
        <p>Pour ne pas s'emm√™ler les pinceaux, nous allons travailler avec une grille carr√©e de 8 par 8 briques. Chaque brique aura une hauteur de 3 pour ne pas occuper trop de place. Mais les plus gros changements sont dans l'affichage et les d√©tections de collisions.</p> 
        <pre><code>// affichage.ino //
void affichage() {
  for (int rangee = 0; rangee &lt; GRILLE_TAILLE; rangee += 1) {
    for (int colonne = 0; colonne &lt; GRILLE_TAILLE; colonne += 1) {
      if (briques[rangee][colonne] == 0) {
        continue;
      }

      int briqueX = colonne * (BRIQUE_LARGEUR + 2) + 1;
      int briqueY = rangee * (BRIQUE_HAUTEUR + 2) + 1;
      gb.display.fillRect(briqueX, briqueY, BRIQUE_LARGEUR, BRIQUE_HAUTEUR);
    }
  }
}
</code></pre> 
        <p>Et oui ! Pour traverser tous les √©l√©ments d'un tableau 2D, il faut placer une boucle dans une boucle ! √áa s'appelle des <strong>boucles imbriqu√©es</strong>. Ici, nous allons parcourir toutes les rang√©es, et pour chaque rang√©e, nous allons passer par chacun de ses √©l√©ments. La t√¢che qui pr√™te √† confusion chez les d√©butants est d'acc√©der au bon √©l√©ment du tableau 2D.** Pour les tableaux 2D, on place d'abord la rang√©e, puis la colonne.** Une mani√®re de s'en rappeler est de se demander "Que repr√©sente <code>briques[0]</code>?" C'est le tout premier √©l√©ment de notre tableau, c'est une rang√©e.</p> 
        <p>L'autre chose qui change par rapport √† la derni√®re fois est la valeur de <code>briqueY</code>. Nos briques ne sont plus toutes align√©es. Mais la logique de la formule est analogique √† celle pour <code>briqueX</code>.</p> 
        <pre><code>// miseAJour.ino //
void miseAJour() {
  // MAJ Balle //
  // Collisions avec les murs et raquette //

  // Collisions avec les briques
  for (int rangee = 0; rangee &lt; GRILLE_TAILLE; rangee += 1) {
    for (int colonne = 0; colonne &lt; GRILLE_TAILLE; colonne += 1) {
      if (briques[rangee][colonne] == 0) {  // Ignorer les briques nulles
        continue;
      }

      int briqueX = colonne * (BRIQUE_LARGEUR + 2) + 1;
      int briqueY = rangee * (BRIQUE_HAUTEUR + 2) + 1;
      if (gb.collide.rectRect(balleX, balleY, BALLE_TAILLE, BALLE_TAILLE,
                              briqueX, briqueY, BRIQUE_LARGEUR, BRIQUE_HAUTEUR)) {
        balleVY *= -1;
        briques[rangee][colonne] = 0;  // D√©truire la brique

        // Verifier qu'il reste encore des briques
        bool plusDeBriques = true;  // Si cet entier reste vrai, alors il n'y a plus de briques
        for (int x = 0; x &lt; GRILLE_TAILLE; x += 1) {
          for (int y = 0; y &lt; GRILLE_TAILLE; y += 1) {
            if (briques[y][x] == 0) {  // On a trouv√© une brique!
              plusDeBriques = false;  // ne pas reinitialiser
            }
          }
        }

        if (plusDeBriques) {
            reinitialiser();
        }
      }

    }
  }


}

void reinitialiser() {
  // Remise √† zero de la balle //

  for (int rangee = 0; rangee &lt; GRILLE_TAILLE; rangee += 1) {
    for (int colonne = 0; colonne &lt; GRILLE_TAILLE; colonne += 1) {
      briques[rangee][colonne] = 1;  // Faire r√©apparaitre toutes les briques
    }
  }
}
</code></pre> 
        <p>Les changements de <em>miseAJour.ino</em> sont les m√™mes que ce de <em>affichage.ino</em>. Si vous avez tout suivi jusqu'√† pr√©sent, vous devriez avoir ceci sur votre console :</p> 
        <p><img src="../assets/770310a8d6eb3607d46fe05ecc3d888d47b24e53.gif" alt="" style="max-width:100%"></p> 
        <p>Maintenant, vous avez un jeu de casse-briques complet, mais avant de vous passer la main, ajoutons deux petites choses dans notre code.</p> 
        <p><a href="/gamebuino/academy-en/arc-en-ciel.html" title="Arc-En-Ciel" class="btn btn-primary btn-lg"> Next step <i class="fa fa-arrow-right"></i></a></p>
       </div> 
      </div> 
     </div> 
     <div class="col-md-4 d-none d-md-block"> 
      <ul class="workshop-summary-mini"> 
       <li class=""> <a href="/gamebuino/academy-en/premiere-etape-titre-a-trouver.html" class="d-flex align-items-center  "> 
         <div class="circle">
           1 
         </div> 
         <div class="title ml-3">
           Introduction - Commen√ßons √† faire ce que l'on a d√©j√† appris... 
         </div> </a></li> 
       <li class=""> <a href="/gamebuino/academy-en/nos-premieres-briques.html" class="d-flex align-items-center  "> 
         <div class="circle">
           2 
         </div> 
         <div class="title ml-3">
           Nos premi√®res briques 
         </div> </a></li> 
       <li class=""> <a href="/gamebuino/academy-en/des-trucs-dans-des-trucs.html" class="d-flex align-items-center  active  "> 
         <div class="circle">
           3 
         </div> 
         <div class="title ml-3">
           Des trucs dans des trucs 
         </div> </a></li> 
       <li class=""> <a href="/gamebuino/academy-en/arc-en-ciel.html" class="d-flex align-items-center  "> 
         <div class="circle">
           4 
         </div> 
         <div class="title ml-3">
           Arc-En-Ciel 
         </div> </a></li> 
       <li class=""> <a href="/gamebuino/academy-en/a-vous-de-jouer.html" class="d-flex align-items-center  "> 
         <div class="circle">
           5 
         </div> 
         <div class="title ml-3">
           A vous de jouer ! 
         </div> </a></li> 
      </ul> 
     </div> 
    </div> 
    <div class="d-block d-md-none" style="margin-top:8rem"> 
     <h4 class="mb-4">Steps</h4> 
     <ul class="workshop-summary-mini"> 
      <li class=""> <a href="/gamebuino/academy-en/premiere-etape-titre-a-trouver.html" class="d-flex align-items-center  "> 
        <div class="circle">
          1 
        </div> 
        <div class="title ml-3">
          Introduction - Commen√ßons √† faire ce que l'on a d√©j√† appris... 
        </div> </a></li> 
      <li class=""> <a href="/gamebuino/academy-en/nos-premieres-briques.html" class="d-flex align-items-center  "> 
        <div class="circle">
          2 
        </div> 
        <div class="title ml-3">
          Nos premi√®res briques 
        </div> </a></li> 
      <li class=""> <a href="/gamebuino/academy-en/des-trucs-dans-des-trucs.html" class="d-flex align-items-center  active  "> 
        <div class="circle">
          3 
        </div> 
        <div class="title ml-3">
          Des trucs dans des trucs 
        </div> </a></li> 
      <li class=""> <a href="/gamebuino/academy-en/arc-en-ciel.html" class="d-flex align-items-center  "> 
        <div class="circle">
          4 
        </div> 
        <div class="title ml-3">
          Arc-En-Ciel 
        </div> </a></li> 
      <li class=""> <a href="/gamebuino/academy-en/a-vous-de-jouer.html" class="d-flex align-items-center  "> 
        <div class="circle">
          5 
        </div> 
        <div class="title ml-3">
          A vous de jouer ! 
        </div> </a></li> 
     </ul> 
    </div>
   </div> 
   <footer id="footer"> 
    <div class="container"> 
     <div class="reinsurance"> 
      <div class="row align-items-center"> 
       <div class="col-sm-3"> 
        <p class="text-left"></p> 
       </div> 
       <div class="col-sm-6"> 
        <p class="text-center">Academy saved on October 8, 2020</p> 
       </div> 
       <div class="col-sm-3"> 
        <p class="text-right"></p> 
       </div> 
      </div> 
     </div> 
     <div class="row"> 
      <div class="col-sm-4 margeur-50"> 
       <ul class=""> 
        <li class="margeur-20"><h5 style="color:white;">Exported by :</h5></li> 
        <li> <a href="https://chris-scientist.github.io">chris-scientist</a></li> 
       </ul> 
      </div> 
      <div class="col-sm-4 margeur-50"> 
       <ul class=""> 
        <li class="margeur-10"> <a href="/gamebuino/why-this-website/">Why this website ?</a></li> 
        <li class="margeur-10"> <a href="/gamebuino/contact/">Contact</a></li> 
       </ul> 
      </div> 
      <div class="col-sm-4 margeur-50"> 
       <h6 class="footer-h6">Exported from official website</h6> 
      </div> 
     </div> 
    </div> 
   </footer>  
  </div>
 </body>
</html>