<!doctype html>
<html lang="en">
 <head> 
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 
  <title>It's your turn! - Gamebuino</title> 
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous"> 
  <link href="https://fonts.googleapis.com/css?family=Lato|Open+Sans:300,400,600,700,800|Roboto+Mono:300,400,700" rel="stylesheet"> 
  <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-LRlmVvLKVApDVGuspQFnRQJjkv0P7/YFrw84YYQtmYG4nK8c+M+NlmYDCv0rKWpG" crossorigin="anonymous"> 
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"> 
  <link href="../css/animate.css" rel="stylesheet" type="text/css"> 
  <link href="../css/generic.css" rel="stylesheet" type="text/css"> 
  <link href="../css/jquery-ui.min.css" rel="stylesheet" type="text/css"> 
  <link href="../css/jquery-ui-timepicker-addon.css" rel="stylesheet" type="text/css"> 
  <link href="../css/alertify.core.css" rel="stylesheet" type="text/css"> 
  <link href="../css/alertify.default.css" rel="stylesheet" type="text/css"> 
  <link href="../css/select2.min.css" rel="stylesheet" type="text/css"> 
  <link href="../css/app.css" rel="stylesheet" type="text/css"> 
  <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script> 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script> 
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script> 
  <script src="../js/jquery.cookie.js" type="text/javascript"></script> 
  <script src="../js/alertify.min.js" type="text/javascript" async></script> 
  <script src="../js/modal.js" type="text/javascript" async></script> 
  <script src="../js/popupConfirm.js" type="text/javascript" async></script> 
  <script src="../js/select2.min.js" type="text/javascript" async></script> 
  <script src="../js/imagesloaded.pkgd.min.js" type="text/javascript" async></script> 
  <script src="../js/wow.min.js" type="text/javascript" async></script> 
  <script src="../js/app.js" type="text/javascript" async></script> 
  <script id="js_highlight" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" async></script> 
  <script>js_highlight.addEventListener('load',function(){$('div.code, pre').each(function(i,block){hljs.highlightBlock(block);});});</script> 
  <link href="https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300,700&amp;display=swap" rel="stylesheet"> 
 </head> 
 <body> 
  <div class="topbar-container w-100 m-0"> 
   <nav class="primary-navbar"> 
    <div id="root-logo"> <a href="/"> <img width="233" src="../assets/gamebuino-logo-white.svg" alt="Gamebuino" class="logo-white"> </a> 
    </div> 
    <ul class="nav nav-pills"> 
     <li class="text-uppercase"> <a href="/meta-api-reference-en/"> META API Reference</a></li> 
     <li class="text-uppercase"> <a href="/academy-en/"> Academy (EN)</a></li> 
    </ul> 
   </nav> 
   <div class="container" id="main-content">
    <div class="container"> 
     <div class="d-flex align-items-center"> <a href="/academy-en/index.html"> Academy </a> 
      <div class="ml-3 mr-3"> <i class="fal fa-angle-right"></i> 
      </div> <a href="/academy-en/tap-tap-toc.html"> Tap Tap (C++ 3/5) </a> 
      <div class="ml-3 mr-3"> <i class="fal fa-angle-right"></i> 
      </div> <span> It's your turn! </span> 
     </div> 
    </div> 
    <div class="row"> 
     <div class="col-md-8"> 
      <div class="d-flex justify-content-between"> 
       <div> 
        <h1> It's your turn! </h1> 
        <h5> Step 4 </h5> 
       </div> 
      </div> 
      <div class="mt-5 white-container"> 
       <div class="lesson-introduction"> 
        <p>This workshop presented three notions that will come back in almost all the games that you will do later, even outside the workshops. Let's do a recap'.</p> 
       </div> 
       <div class="lesson-content mt-5"> 
        <p>The "<strong>Input, Update, Draw</strong>" structure is very useful. It allows us to better organize our code, and splits the player's actions, the game logic, and what the player sees. <strong>Constants</strong> allow us to write code with ease and <strong>arrays</strong> are a new data structure that allows us to group many variables into a list (more of their power will we unleashed in the next tutorial)!</p> 
        <p>With all of this, we built a game: TapTap. It is simple but fun. Now, it is up to you to improve it. Here's what I propose. Start by adding a highscore system. Then, to improve gameplay, add another brick or two. You can also make the game harder by tweeking the score system so that, the bigger the score, the faster it lowers per frame!</p> 
        <ul> 
         <li> <strong>Tip #1 :</strong> To add bricks, change NUM_OF_BRICKS and don't forget to modify the drawing so that all bricks fit in the screen.</li> 
         <li> <strong>Tip #2 :</strong> To make the game harder as your score goes up, you can try to remove a part of the current score with the division operator /.</li> 
        </ul> 
        <p><strong>Show off your game online with #gamebuino #workshop #TapTap, we go through them all the time ;)</strong></p> 
        <h2>Solution Example</h2> 
        <p>If you ran out of ideas, here is what we did on our side. Hope it helps :)</p> 
        <p><img src="../assets/888b0ec483eed4fd845422769044451c5a40ed7e.gif" alt="" style="max-width:100%"></p> 
        <pre><code>#include 

const int LEFT = 1;
const int RIGHT = 2;
const int NO_DIRECTION = 3;
const int NUM_OF_BRICKS = 5; 

int bricks[NUM_OF_BRICKS];  // Our bricks. Either LEFT or RIGHT
int arrow;  // Either LEFT, RIGHT, or NO_DIRECTION
int score = 0;
int highscore = 0;




void setup() {
  gb.begin();




  // Shuffle bricks
  bricks[0] = random(LEFT, RIGHT + 1);
  bricks[1] = random(LEFT, RIGHT + 1);
  bricks[2] = random(LEFT, RIGHT + 1);
  bricks[3] = random(LEFT, RIGHT + 1);
  bricks[4] = random(LEFT, RIGHT + 1);




  arrow = NO_DIRECTION;
}




void loop() {
  while (!gb.update());




  // INPUTS //
  if (gb.buttons.released(BUTTON_LEFT) || gb.buttons.released(BUTTON_A)) {
    arrow = LEFT;
  } else if (gb.buttons.released(BUTTON_RIGHT) || gb.buttons.released(BUTTON_B)) {
    arrow = RIGHT;
  }




  // UPDATE //
  // Lower score with time. The bigger the score, the faster is goes down
  if (score &gt; 0) {
    score -= score / 60;
  }




  if (arrow != NO_DIRECTION) {
    if (bricks[0] == arrow) {
      score += 20;
      if (score &gt; highscore) {  // Highscore ??
        highscore = score;
      }




      // Shift down
      bricks[0] = bricks[1];
      bricks[1] = bricks[2];
      bricks[2] = bricks[3];
      bricks[3] = bricks[4];
      bricks[4] = random(LEFT, RIGHT + 1);  // New brick
    }
    else {  // Lost :(
      score = 0;
    }




    arrow = NO_DIRECTION;  // User input handled
  }




  // DRAW //
  gb.display.clear();




  if (bricks[0] == LEFT) {
    gb.display.fillRect(25, 40, 20, 10);  // fillRect for the lower brick. drawRect for the others
  } else {
    gb.display.fillRect(35, 40, 20, 10);
  }
  if (bricks[1] == LEFT) {
    gb.display.drawRect(25, 30, 20, 10);
  } else {
    gb.display.drawRect(35, 30, 20, 10);
  }
  if (bricks[2] == LEFT) {
    gb.display.drawRect(25, 20, 20, 10);
  } else {
    gb.display.drawRect(35, 20, 20, 10);
  }
  if (bricks[3] == LEFT) {
    gb.display.drawRect(25, 10, 20, 10);
  } else {
    gb.display.drawRect(35, 10, 20, 10);
  }
  if (bricks[4] == LEFT) {
    gb.display.drawRect(25, 0, 20, 10);
  } else {
    gb.display.drawRect(35, 0, 20, 10);
  }




  // Score
  gb.display.fillRect(0, gb.display.height() - (score / 5), 4, (score / 5));  // We divide the score by 5 to make it fit inside the screen




  // Highscore
  gb.display.drawFastHLine(0, gb.display.height() - (highscore / 5), 6);
}
</code></pre> 
        <p><a href="/academy-en/attrap-oeuf.html" title="Egg catcher in C++" class="btn btn-primary btn-lg"> Next workshop <i class="fa fa-forward"></i></a></p>
       </div> 
      </div> 
     </div> 
     <div class="col-md-4 d-none d-md-block"> 
      <ul class="workshop-summary-mini"> 
       <li class=""> <a href="/academy-en/tap-tap-how-fast-can-you-tap.html" class="d-flex align-items-center  "> 
         <div class="circle">
           1 
         </div> 
         <div class="title ml-3">
           Tap Tap, how fast can you tap? 
         </div> </a></li> 
       <li class=""> <a href="/academy-en/inputs-update-draw.html" class="d-flex align-items-center  "> 
         <div class="circle">
           2 
         </div> 
         <div class="title ml-3">
           Inputs, update, draw 
         </div> </a></li> 
       <li class=""> <a href="/academy-en/constants.html" class="d-flex align-items-center  "> 
         <div class="circle">
           3 
         </div> 
         <div class="title ml-3">
           Constants 
         </div> </a></li> 
       <li class=""> <a href="/academy-en/arrays.html" class="d-flex align-items-center  "> 
         <div class="circle">
           4 
         </div> 
         <div class="title ml-3">
           Arrays 
         </div> </a></li> 
       <li class=""> <a href="/academy-en/it-s-your-turn.html" class="d-flex align-items-center  active  "> 
         <div class="circle">
           5 
         </div> 
         <div class="title ml-3">
           It's your turn! 
         </div> </a></li> 
      </ul> 
     </div> 
    </div> 
    <div class="d-block d-md-none" style="margin-top:8rem"> 
     <h4 class="mb-4">Steps</h4> 
     <ul class="workshop-summary-mini"> 
      <li class=""> <a href="/academy-en/tap-tap-how-fast-can-you-tap.html" class="d-flex align-items-center  "> 
        <div class="circle">
          1 
        </div> 
        <div class="title ml-3">
          Tap Tap, how fast can you tap? 
        </div> </a></li> 
      <li class=""> <a href="/academy-en/inputs-update-draw.html" class="d-flex align-items-center  "> 
        <div class="circle">
          2 
        </div> 
        <div class="title ml-3">
          Inputs, update, draw 
        </div> </a></li> 
      <li class=""> <a href="/academy-en/constants.html" class="d-flex align-items-center  "> 
        <div class="circle">
          3 
        </div> 
        <div class="title ml-3">
          Constants 
        </div> </a></li> 
      <li class=""> <a href="/academy-en/arrays.html" class="d-flex align-items-center  "> 
        <div class="circle">
          4 
        </div> 
        <div class="title ml-3">
          Arrays 
        </div> </a></li> 
      <li class=""> <a href="/academy-en/it-s-your-turn.html" class="d-flex align-items-center  active  "> 
        <div class="circle">
          5 
        </div> 
        <div class="title ml-3">
          It's your turn! 
        </div> </a></li> 
     </ul> 
    </div>
   </div> 
   <footer id="footer"> 
    <div class="container"> 
     <div class="reinsurance"> 
      <div class="row align-items-center"> 
       <div class="col-sm-3"> 
        <p class="text-left"></p> 
       </div> 
       <div class="col-sm-6"> 
        <p class="text-center">Academy saved on October 8, 2020</p> 
       </div> 
       <div class="col-sm-3"> 
        <p class="text-right"></p> 
       </div> 
      </div> 
     </div> 
     <div class="row"> 
      <div class="col-sm-4 margeur-50"> 
       <ul class=""> 
        <li class="margeur-20"><h5 style="color:white;">Exported by :</h5></li> 
        <li> <a href="https://chris-scientist.github.io">chris-scientist</a></li> 
       </ul> 
      </div> 
      <div class="col-sm-4 margeur-50"> 
       <ul class=""> 
        <li class="margeur-10"> <a href="/why-this-website/">Why this website ?</a></li> 
        <li class="margeur-10"> <a href="/contact/">Contact</a></li> 
       </ul> 
      </div> 
      <div class="col-sm-4 margeur-50"> 
       <h6 class="footer-h6">Exported from official website</h6> 
      </div> 
     </div> 
    </div> 
   </footer>  
  </div>
 </body>
</html>